"use strict";angular.module("yaru22.angular-timeago",[]).directive("timeAgo",["timeAgo","nowTime",function(r,n){return{restrict:"EA",link:function(t,e,a){var u;a.$observe("fromTime",function(n){u=r.parse(n)}),t.$watch(function(){return n()-u},function(n){angular.element(e).text(r.inWords(n))})}}}]).factory("nowTime",["$timeout",function(r){var n=Date.now(),t=function(){r(function(){n=Date.now(),t()},1e3)};return t(),function(){return n}}]).factory("timeAgo",function(){var r={};return r.settings={refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"yang lalu",suffixFromNow:"dari sekarang",seconds:"kurang dari satu menit",minute:"sekitar satu menit",minutes:"%d menit",hour:"sekitar satu jam",hours:"sekitar %d jam",day:"satu hari",days:"%d hari",month:"sekitar satu bulan",months:"%d bulan",year:"sekitar satu tahun",years:"%d tahun",numbers:[]}},r.inWords=function(n){function t(r,t){var a=angular.isFunction(r)?r(t,n):r,u=e.numbers&&e.numbers[t]||t;return a.replace(/%d/i,u)}var e=r.settings.strings,a=e.prefixAgo,u=e.suffixAgo;r.settings.allowFuture&&0>n&&(a=e.prefixFromNow,u=e.suffixFromNow);var i=Math.abs(n)/1e3,o=i/60,s=o/60,m=s/24,d=m/365,f=45>i&&t(e.seconds,Math.round(i))||90>i&&t(e.minute,1)||45>o&&t(e.minutes,Math.round(o))||90>o&&t(e.hour,1)||24>s&&t(e.hours,Math.round(s))||42>s&&t(e.day,1)||30>m&&t(e.days,Math.round(m))||45>m&&t(e.month,1)||365>m&&t(e.months,Math.round(m/30))||1.5>d&&t(e.year,1)||t(e.years,Math.round(d)),c=void 0===e.wordSeparator?" ":e.wordSeparator;return[a,f,u].join(c).trim()},r.parse=function(r){if(angular.isNumber(r))return parseInt(r,10);var n=r.trim();return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},r}).filter("timeAgo",["nowTime","timeAgo",function(r,n){return function(t){var e=n.parse(t),a=r()-e;return n.inWords(a)}}]);
